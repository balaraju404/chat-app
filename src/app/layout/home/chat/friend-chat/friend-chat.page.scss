.chat-title {
 display: flex;
 align-items: center;
 justify-content: center;
 padding-left: 0;
 padding-right: 0;
 text-align: center;
}

.avatar-name-wrapper {
 display: flex;
 align-items: center;
 gap: 8px;
 height: 100%;
}

.avatar-icon {
 width: 32px;
 height: 32px;
 display: flex;
 align-items: center;
 justify-content: center;
}

.avatar-icon ion-icon {
 font-size: 24px;
 color: #fff;
}

.friend-name {
 font-size: 16px;
 font-weight: 500;
 color: #fff;
}

.chat-container {
 min-height: 100%;
 display: flex;
 flex-direction: column;
 gap: 8px;
 padding: 12px;
 padding-bottom: 20px;
 overflow-y: auto;
 background: var(--ion-background-color, #eee6e6);
}

/* Bubble Styling */
.chat-bubble {
 max-width: 75%;
 padding: 10px 14px;
 border-radius: 16px;
 position: relative;
 word-wrap: break-word;
 word-break: break-word;
 font-size: 14px;
 line-height: 1.4;
 animation: fadeInUp 0.3s ease;
 white-space: pre-wrap;
}

.own-message {
 align-self: flex-end;
 background-color: #3b82f6; // blue
 color: #ffffff;
 border-bottom-right-radius: 4px;
}

.friend-message {
 align-self: flex-start;
 background-color: var(--ion-color-light, #f1f1f1);
 color: var(--ion-color-dark, #1e1e1e);
 border-bottom-left-radius: 4px;
}

.message-text {
 color: inherit;
}

/* Meta Data */
.message-meta {
 display: flex;
 justify-content: flex-end;
 align-items: center;
 gap: 4px;
 font-size: 11px;
 margin-top: 4px;
 opacity: 0.7;
}

.own-message .message-meta {
 color: rgba(255, 255, 255, 0.8);
}

.friend-message .message-meta {
 color: #666;
}

.tick-icons {
 display: inline-flex;
 align-items: center;
}

.tick-icon {
 font-size: 13px;
 vertical-align: middle;
 color: rgba(255, 255, 255, 0.6);
}

.friend-message .tick-icon {
 color: #888;
}

.tick-icon.double.blue {
 color: #00e5ff;
}

/* Typing Skeleton */
.skeleton-wrapper {
 display: flex;
 width: 100%;
 margin-bottom: 12px;

 &.left {
  justify-content: flex-start;
 }

 &.right {
  justify-content: flex-end;
 }
}

.skeleton-bubble {
 background-color: #e0e0e0;
 padding: 12px 16px;
 border-radius: 18px;
 max-width: 75%;
 width: auto;
 min-width: 120px;
 animation: pulse 1.4s ease-in-out infinite;
 display: flex;
 flex-direction: column;
 gap: 6px;

 .skeleton-line {
  height: 12px;
  background-color: #cccccc;
  border-radius: 6px;

  &.short {
   width: 40%;
  }

  &.medium {
   width: 70%;
  }

  &.long {
   width: 90%;
  }
 }
}

@keyframes fadeInUp {
 from {
  opacity: 0;
  transform: translateY(10px);
 }

 to {
  opacity: 1;
  transform: translateY(0);
 }
}

@keyframes pulse {
 0% {
  opacity: 1;
 }

 50% {
  opacity: 0.5;
 }

 100% {
  opacity: 1;
 }
}

/* Chat Footer */
.chat-footer {
 --padding-bottom: env(safe-area-inset-bottom);
 box-shadow: 0 -1px 5px rgba(0, 0, 0, 0.3);
 padding: 4px 8px;
}

.message-input {
 flex: 1;
 --padding-start: 0;
 --padding-end: 0;
 font-size: 14px;
 border-radius: 12px;
 min-height: 38px;
 max-height: 120px;
 overflow-y: auto;
 resize: none;
}

ion-button[slot="end"] {
 color: #3b82f6;
 font-size: 20px;
 margin-left: 4px;
}

/* Unread Separator */
.unread-separator {
 text-align: center;
 font-size: 13px;
 font-weight: 500;
 color: var(--ion-color-medium, #999);
 margin: 12px 0;
 position: relative;
}

.unread-separator::before,
.unread-separator::after {
 content: "";
 position: absolute;
 top: 50%;
 width: 33%;
 height: 1px;
 background: var(--ion-color-medium, #999);
}

.unread-separator::before {
 left: 0;
}

.unread-separator::after {
 right: 0;
}